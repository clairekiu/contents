+++
title = '백준 2042: 구간 합 구하기'
date = 2024-07-11T22:52:29+09:00
draft = true
ShowToc = true
+++

## 전체 코드
```c++
#include <iostream>

using namespace std;
using ll = long long;

ll N, M, K;
ll seg[4000000];
ll arr[4000000];

void init(ll l, ll r, ll v){
    if(l==r){
        seg[v]=arr[l];
    }
    else{
        ll mid = (l+r)/2;
        init(l, mid, 2*v);
        init(mid+1, r, 2*v+1);
        seg[v] = seg[2*v] + seg[2*v+1];
    }
}

void update(ll l, ll r, ll v, ll t, ll val){
    if(l==r){
        seg[v] = val;
    }
    else{
        ll mid = (l+r) / 2;
        if(t <= mid){
            update(l, mid, 2*v, t, val);
            seg[v] = seg[2*v] + seg[2*v + 1];
        }
        else{
            update(mid+1, r, 2*v+1, t, val);
            seg[v] = seg[2*v] + seg[2*v + 1];
        }
    }
}

ll query(ll l, ll r, ll ql, ll qr, ll v){
    if(qr < l || ql > r){
        return 0;
    }
    if(ql <= l && qr >= r){
        return seg[v];
    }
    ll mid = (l+r)/2;
    return query(l, mid, ql, qr, 2*v) + query(mid+1, r, ql, qr, 2*v+1);
}

int main(){
    ios_base::sync_with_stdio(0);
    cin.tie(0); cout.tie(0);
    cin>>N>>M>>K;
    for(ll i=1; i<=N; i++){
        cin>>arr[i];
    }
    init(1, N, 1);
    for(ll q=0; q<M+K; q++){
        ll a, b, c;
        cin>>a>>b>>c;
        if(a==1){
            update(1, N, 1, b, c);
        }
        if(a==2){
            cout<<query(1, N, b, c, 1)<<'\n';
        }
    }
}
```